<!DOCTYPE html>
<html>
    <body>
        <div class="fcfs">
            <p>#include<stdio.h>
                int main()	
                {
                int bt[10],tat[10],wt[10],i,n;
                float wtavg,tatavg;
                printf("Enter the processes---");
                scanf("%d",&n);
                for(i=0;i<n;i++)
                {
                printf("\n Enter the burst time for process %d",i);
                scanf("%d",&bt[i]);
                }
                wt[0]=wtavg=0;
                tat[0]=tatavg=bt[0];
                
                for(i=1;i<n;i++)
                {
                wt[i]=wt[i-1]+bt[i-1];
                tat[i]=tat[i-1]+bt[i];
                wtavg=wtavg+wt[i];
                tatavg=tatavg+tat[i];
                }
                printf("\n\tPROCESS\tBURST TIME\tWAITING TIME\tTURNAROUND TIME\n");
                for(i=0;i<n;i++)
                {
                printf("\n\tp%d\t\t%d\t\t%d\t\t%d",i,bt[i],wt[i],tat[i]);
                }
                
                printf("\n Average waiting time is---%.2f",wtavg/n);
                printf("\n Average turnaround time is---%.2f",tatavg/n);
                
                }                
            </p>
        </div>
        <div class="sjf">
            <p>#include<stdio.h>
                void main()
                {
                int p[20], bt[20], wt[20], tat[20], i, k, n, temp;
                float wtavg, tatavg;
                printf("\nEnter the number of processes -- ");
                scanf("%d", &n);
                for(i=0;i<n;i++)
                {
                p[i]=i;
                printf("Enter Burst Time for Process %d -- ", i);
                scanf("%d", &bt[i]);
                }
                for(i=0;i<n;i++)
                for(k=i+1;k<n;k++)
                if(bt[i]>bt[k])
                {
                temp=bt[i];
                bt[i]=bt[k];
                bt[k]=temp;
                temp=p[i];
                p[i]=p[k];
                p[k]=temp;
                }wt[0] =  wtavg = 0;
                tat[0] = tatavg = bt[0];
                for(i=1;i<n;i++)
                {
                
                wt[i] = wt[i-1] +bt[i-1];
                
                tat[i] = tat[i-1] +bt[i];
                wtavg = wtavg + wt[i];
                tatavg = tatavg + tat[i];
                }
                printf("\n\t PROCESS \tBURST TIME \t WAITING TIME\t TURNAROUND TIME\n"); 
                for(i=0;i<n;i++)
                printf("\n\t P%d \t\t %d \t\t %d \t\t %d", p[i], bt[i], wt[i], tat[i]); 
                printf("\nAverage Waiting Time -- %f", wtavg/n); 
                printf("\nAverage Turnaround Time -- %f", tatavg/n);
                }
                

            </p>
        </div>
        <div class="round robin">
            <p>#include<stdio.h>
                int main()
                {
                int ts,pid[10],need[10],wt[10],tat[10],i,j,n,n1;
                int bt[10],flag[10],ttat=0,twt=0;
                float awt,atat;
                printf("\t\t ROUND ROBIN SCHEDULING \n");
                printf("Enter the number of Processes \n");
                scanf("%d",&n);
                n1=n;
                printf("\n Enter the Timeslice \n");
                scanf("%d",&ts);
                for(i=1;i<=n;i++)
                {
                printf("\n Enter the process ID");
                scanf("%d",&pid[i]);
                printf("\n Enter the Burst Time for the process");
                scanf("%d",&bt[i]);
                need[i]=bt[i];
                }
                for(i=1;i<=n;i++)
                {
                flag[i]=1;
                wt[i]=0;
                }
                while(n!=0)
                {
                for(i=1;i<=n;i++)
                {
                if(need[i]>=ts)
                {
                for(j=1;j<=n;j++)
                {
                      if((i!=j)&&(flag[i]==1)&&(need[j]!=0))
                      wt[j]+=ts;
                }
                need[i]-=ts;
                if(need[i]==0)
                {
                     flag[i]=0;
                     n--;
                }
                }
                else
                {
                for(j=1;j<=n;j++)
                {
                      if((i!=j)&&(flag[i]==1)&&(need[j]!=0))
                      wt[j]+=need[i];
                }
                need[i]=0;
                n--;
                flag[i]=0;
                }
                }
                }
                for(i=1;i<=n1;i++)
                
                
                {
                tat[i]=wt[i]+bt[i];
                twt=twt+wt[i];
                ttat=ttat+tat[i];
                }
                
                awt=(float)twt/n1;
                atat=(float)ttat/n1;
                printf("\n\n ROUND ROBIN SCHEDULING ALGORITHM \n\n");
                printf("\n\n Process \t Process ID  \t BurstTime \t Waiting Time \t TurnaroundTime \n ");
                for(i=1;i<=n1;i++)
                {
                printf("\n %5d \t %5d \t\t %5d \t\t %5d \t\t %5d \n", i,pid[i],bt[i],wt[i],tat[i]);
                }
                printf("\n The average Waiting Time=%.2f",awt);
                printf("\n The average Turn around Time=%.2f",atat);
                return 0;
                }
                

            </p>
        </div>
        <div class="priority">
            <p>#include<stdio.h>
                void main()
                {
                int p[20],bt[20],pri[20], wt[20],tat[20],i, k, n, temp;
                float wtavg, tatavg;
                printf("Enter the number of processes --- ");
                scanf("%d",&n);
                for(i=0;i<n;i++)
                {
                p[i] = i;
                printf("Enter the Burst Time & Priority of Process %d --- ",i); 
                scanf("%d %d",&bt[i], &pri[i]);
                }
                for(i=0;i<n;i++)
                for(k=i+1;k<n;k++)
                if(pri[i] > pri[k])
                {
                temp=p[i];
                p[i]=p[k];
                p[k]=temp;
                temp=bt[i];
                bt[i]=bt[k];
                bt[k]=temp;
                temp=pri[i];
                pri[i]=pri[k];
                
                pri[k]=temp;
                
                }
                wtavg = wt[0] = 0;
                tatavg = tat[0] = bt[0];
                for(i=1;i<n;i++)
                {
                wt[i] = wt[i-1] + bt[i-1];
                tat[i] = tat[i-1] + bt[i];
                wtavg = wtavg + wt[i];
                tatavg = tatavg + tat[i];
                }
                printf("\nPROCESS\t\tPRIORITY\tBURST TIME\tWAITING TIME\tTURNAROUND TIME");
                for(i=0;i<n;i++)
                printf("\n%d \t\t %d \t\t %d \t\t %d \t\t %d ",p[i],pri[i],bt[i],wt[i],tat[i]);
                printf("\nAverage Waiting Time is --- %f",wtavg/n);
                printf("\nAverage Turnaround Time is --- %f",tatavg/n);
                }
                

            </p>
        </div>
        <div class="bankers">
            <p>
                #include<stdio.h>
                    #include<stdlib.h>
                    void main()
                    {
                    int a[10][10],c[10][10],r[10],av[10],ca[10][10],i,j,k,n,m,temp=0,tem,ch;
                    
                    printf("enter no processes");
                    scanf("%d",&m);
                    printf("enter no of resources");
                    scanf("%d",&n);
                    printf("\nenter claim\n");
                    for(i=0;i<m;i++)
                    for(j=0;j<n;j++)
                    scanf("%d",&c[i][j]);
                    printf("\nenter alocation matrix\n");
                    for(i=0;i<m;i++)
                    for(j=0;j<n;j++)
                    scanf("%d",&a[i][j]);
                    printf("\nenter resourse vector\n");
                    for(i=0;i<n;i++)
                    scanf("%d",&r[i]);
                    k=0;
                    do
                    {
                    printf("claim\tallocation\tca\n");
                    for(i=0;i<m;i++)
                    {
                    for(j=0;j<n;j++)
                    
                    printf("%3d",c[i][j]);printf("\t");
                    for(j=0;j<n;j++)
                    printf("%3d",a[i][j]);printf("\t\t");
                    for(j=0;j<n;j++)
                    {
                    ca[i][j]=c[i][j]-a[i][j];
                    printf("%3d",ca[i][j]);
                    }
                    printf("\n");
                    }
                    temp=0;
                    for(i=0;i<n;i++)
                    {
                    for(j=0;j<m;j++)
                    temp=temp+a[j][i];
                    av[i]=r[i]-temp;temp=0;
                    }
                    printf("\nresource vector:  ");
                    for(i=0;i<n;i++)
                    printf("%3d",r[i]);
                    printf("\navailable vector:  ");
                    for(i=0;i<n;i++)
                    printf("%3d",av[i]);
                    if(k==0)
                    printf("\n****initial state****\n");
                    else
                    printf("\n***p%d runs to completion*****\n",tem+1);
                    if(k<n)
                    {
                    temp=0;
                    
                    
                    for(i=0;i<m;i++)
                    {
                    lab:for(j=0;j<n;j++)
                    {
                    
                         if(ca[i][j]==0)
                           temp++;
                        }
                    if(temp==n)
                    {
                        i++; temp=0;goto lab;
                        }
                    else
                    {
                    for(j=0;j<n;j++)
                    {
                         if(ca[i][j]<=av[j])
                              tem=i;
                         else
                         {
                          if(i>m)
                          {
                           printf("\nunshafe state");goto end;
                           }
                           else
                           {i++;goto lab;}
                         }
                        }
                    }
                    
                    for(j=0;j<n;j++)
                    {
                    a[tem][j]=0;c[tem][j]=0;ca[tem][j]=0;
                    }
                        break;
                    }
                    }
                    else
                    
                    { 
                    printf("\nprocesses are completed");
                    goto end;
                    }
                    k++;
                    printf("continue press ZERO");
                    scanf("%d",&ch);
                    }while(ch==0);
                    end: exit(0);
                    }
                    

            </p>
        </div>
        <div class="producer">
            <p>
                #include<stdio.h>
                    #include<stdlib.h>
                     
                    int mutex=1,full=0,empty=3,x=0;
                     
                    int main()
                    {
                        int n;
                        void producer();
                        void consumer();
                        int wait(int);
                        int signal(int);
                        printf("\n1.Producer\n2.Consumer\n3.Exit");
                        while(1)
                        {
                            printf("\nEnter your choice:");
                            scanf("%d",&n);
                            switch(n)
                            {
                                case 1:	if((mutex==1)&&(empty!=0))
                                            producer();
                                        else
                                            printf("Buffer is full!!");
                                        break;
                                case 2:	if((mutex==1)&&(full!=0))
                                            consumer();
                                        else
                                            printf("Buffer is empty!!");
                                        break;
                                case 3:
                                        exit(0);
                                        break;
                            }
                        }
                        
                        return 0;
                    }
                     
                    int wait(int s)
                    {
                        return (--s);
                    }
                     
                    int signal(int s)
                    {
                        return(++s);
                    }
                     
                    void producer()
                    {
                        mutex=wait(mutex);
                        full=signal(full);
                        empty=wait(empty);
                        x++;
                        printf("\nProducer produces the item %d",x);
                        mutex=signal(mutex);
                    }
                     
                    void consumer()
                    {
                        mutex=wait(mutex);
                        full=wait(full);
                        empty=signal(empty);
                        printf("\nConsumer consumes item %d",x);
                        x--;
                        mutex=signal(mutex);
                    }
                    
            </p>
        </div>
        <div class="paging">
            <p>
                #include<stdio.h>
                    void main()
                    {
                    int ms, ps, nop, np, rempages, i, j, x, y, pa, offset;
                    int s[10], fno[10][20];
                    printf("\nEnter the memory size -- ");
                    scanf("%d",&ms);
                    printf("\nEnter the page size -- ");
                    scanf("%d",&ps);
                    nop = ms/ps;
                    printf("\nThe no. of pages available in memory are -- %d ",nop);
                    printf("\nEnter number of processes -- ");
                    scanf("%d",&np);
                    rempages = nop;
                    for(i=1;i<=np;i++)
                    {
                    printf("\nEnter no. of pages required for p[%d]-- ",i);
                    scanf("%d",&s[i]);
                    if(s[i] >rempages)
                    {
                    printf("\nMemory is Full");
                    break;
                    }
                    rempages = rempages - s[i];
                    printf("\nEnter pagetable for p[%d] --- ",i);
                    
                    for(j=0;j<s[i];j++)
                    scanf("%d",&fno[i][j]);
                    }
                    printf("\nEnter Logical Address to find Physical Address ");
                    printf("\nEnter process no. and pagenumber and offset -- ");
                    scanf("%d %d %d",&x,&y, &offset);
                    if(x>np || y>=s[i] || offset>=ps)
                    printf("\nInvalid Process or Page Number or offset");
                    else
                    {
                    pa=fno[x][y]*ps+offset;
                    printf("\nThe Physical Address is -- %d",pa);
                    }
                    }
                    

            </p>
        </div>
        <div class="segmentation">
            <p>
                #include <stdio.h>
                    #include <conio.h>
                    #include <math.h>
                    int sost;
                    void gstinfo();
                    void ptladdr();
                    struct segtab
                    {
                    int sno;
                    int baddr;
                    int limit;
                    int val[10];
                    }st[10];
                    void gstinfo()
                    {
                    int i,j;
                    printf("\n\tEnter the size of the segment table: ");
                    scanf("%d",&sost);
                    for(i=1;i<=sost;i++)
                    {
                    printf("\n\tEnter the information about segment: %d",i);
                    st[i].sno = i;
                    printf("\n\tEnter the base Address: ");
                    scanf("%d",&st[i].baddr);
                    printf("\n\tEnter the Limit: ");
                    scanf("%d",&st[i].limit);
                    for(j=0;j<st[i].limit;j++)
                    {
                    printf("Enter the %d address Value: ",(st[i].baddr + j));
                    scanf("%d",&st[i].val[j]);
                    }
                    }
                    }
                    void ptladdr()
                    {
                    int i,swd,d=0,n,s,disp,paddr;
                    clrscr();
                    printf("\n\n\t\t\t SEGMENT TABLE \n\n");
                    printf("\n\t SEG.NO\tBASE ADDRESS\t LIMIT \n\n");
                    for(i=1;i<=sost;i++)
                    printf("\t\t%d \t\t%d\t\t%d\n\n",st[i].sno,st[i].baddr,st[i].limit);
                    printf("\n\nEnter the logical Address: ");
                    scanf("%d",&swd);
                    n=swd;
                    while (n != 0)
                    {
                    n=n/10;
                    d++;
                    }
                    s = swd/pow(10,d-1);
                    disp = swd%(int)pow(10,d-1);
                    if(s<=sost)
                    
                    
                    {
                    if(disp < st[s].limit)
                    {
                    paddr = st[s].baddr + disp;
                    printf("\n\t\tLogical Address is: %d",swd);
                    printf("\n\t\tMapped Physical address is: %d",paddr);
                    printf("\n\tThe value is: %d",( st[s].val[disp] ) );
                    }
                    else
                    printf("\n\t\tLimit of segment %d is high\n\n",s);
                    }
                    
                    else
                    printf("\n\t\tInvalid Segment Address \n");
                    }
                    void main()
                    {
                    char ch;
                    clrscr();
                    gstinfo();
                    do
                    {
                    ptladdr();
                    printf("\n\t Do U want to Continue(Y/N)");
                    flushall();
                    scanf("%c",&ch);
                    }while (ch == 'Y' || ch == 'y' );
                    getch();
                    }
                    
            </p>
        </div>
        <div class="unix">
            <p>#include<stdio.h>

                #include<unistd.h>
                
                #include<string.h>
                
                #include<fcntl.h>
                main( )
                
                {
                
                int fd[2];
                
                char buf1[25]= "just a test\n";
                
                char buf2[50];
                
                fd[0]=open("file1",O_RDWR);
                
                fd[1]=open("file2",O_RDWR);
                
                write(fd[0], buf1, strlen(buf1));
                
                printf("\n Enter the text now….");
                
                scanf("\n %s",buf1);
                
                printf("\n Cat file1 is \n hai");
                
                write(fd[0], buf1, strlen(buf1));
                
                lseek(fd[0], SEEK_SET, 0);
                
                read(fd[0], buf2, sizeof(buf1));
                
                write(fd[1], buf2, sizeof(buf2));
                
                close(fd[0]);
                
                close(fd[1]);
                
                
                
                printf("\n");
                
                return 0;
                }

                
                -------------------------------------------------
                #include<stdio.h>
                    #include<dirent.h>
                    struct dirent *dptr;
                    int main(int argc, char *argv[])
                    {
                    char buff[100];
                    DIR *dirp;
                    printf(“\n\n ENTER DIRECTORY NAME”);
                    scanf(“%s”, buff);
                    if((dirp=opendir(buff))==NULL)
                    {
                    printf(“The given directory does not exist”);
                    exit(1);
                    }
                    while(dptr=readdir(dirp))
                    {
                    printf(“%s\n”,dptr->d_name);
                    }
                    closedir(dirp);
                    }
                ------------------------------------------------------
                #include <stdio.h>
                    #include <stdlib.h>
                    #include <unistd.h>
                    #include <sys/types.h>
                    #include <sys/stat.h>
                    #include <fcntl.h>
                     
                    int main(int argc, char **argv)
                    {
                        int fd, nfd;
                     
                        if (argc < 2) {
                            printf("Usage : %s pathname\n", argv[0]);
                            exit(1);
                        }
                     
                        /* opening the file in write-only mode */
                        if ((fd = open(argv[1], O_WRONLY)) < 0) {
                            perror("Problem in opening the file");
                            exit(1);
                        }
                     
                        /* duplicating fd with nfd */
                        if ((nfd = fcntl(fd, F_DUPFD, 0)) == -1) {
                            perror("Problem in duplicating fd");
                            exit(1);
                        }
                        printf("Fd %d duplicated with %d\n", fd, nfd);
                     
                        close(fd);
                        close(nfd);
                    }
                                        

            </p>
        </div>
    </body>
</html>